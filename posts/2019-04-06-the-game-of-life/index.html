<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/website-gatsby/styles.f2bc471bf7a1d054ebcd.css">.style-module--displayNone--2rZ5S{display:none}.style-module--dislayBlock--3OXtv{display:block}.style-module--controlGroup--1sL_L{padding:.5rem 0}.style-module--control--fRXxc{margin:.25rem}.style-module--hexagonalLatticeExample--19TsT{stroke-width:3;display:block;margin:0 auto}.style-module--circlesExample--3MMKq,.style-module--linesExample--Ogm8H{stroke-width:3;stroke:#930;display:block;margin:0 auto}.style-module--circlesExample--3MMKq{fill:None}.style-module--displayBlock--2BDsS{display:block}.style-module--displayHidden--1cmzY{display:none}.style-module--container--2QO0X{overflow-x:scroll}.style-module--controls--2oYnC{padding-top:.5rem}.style-module--inputControl--2oZfe{margin:0 .5rem}.style-module--logoDrawself--3MgBP{max-width:400px;max-height:400px;width:100%;height:100%;display:block;margin:auto}.style-module--coffeeDashedOff--2PfJ5,.style-module--coffeeDashedOn--10CU2{max-width:250px;max-height:375px;width:100%;height:100%}.style-module--coffeeDashedOff--2PfJ5 path,.style-module--coffeeDashedOn--10CU2 path{stroke-dasharray:20 20;stroke-dashoffset:1547;-webkit-animation:style-module--pathAnimation--1daA1 20s linear infinite;animation:style-module--pathAnimation--1daA1 20s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused}.style-module--coffeeDashedOn--10CU2 path{-webkit-animation-play-state:running;animation-play-state:running}@-webkit-keyframes style-module--pathAnimation--1daA1{to{stroke-dashoffset:0}}@keyframes style-module--pathAnimation--1daA1{to{stroke-dashoffset:0}}.style-module--coffeeDrawselfOff--3eLLW,.style-module--coffeeDrawselfOn--1q9xE{max-width:250px;max-height:375px;width:100%;height:100%;margin:auto;display:block}.style-module--coffeeDrawselfOff--3eLLW path,.style-module--coffeeDrawselfOn--1q9xE path{-webkit-animation-play-state:running;animation-play-state:running;stroke-dasharray:1547 1547;stroke-dashoffset:0;-webkit-animation:style-module--pathAnimation--i-DQt 12s linear infinite;animation:style-module--pathAnimation--i-DQt 12s linear infinite}.style-module--coffeeDrawselfOff--3eLLW path{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes style-module--pathAnimation--i-DQt{0%{stroke-dashoffset:0}0.1%{stroke-dashoffset:1547}95%,to{stroke-dashoffset:0}}@keyframes style-module--pathAnimation--i-DQt{0%{stroke-dashoffset:0}0.1%{stroke-dashoffset:1547}95%,to{stroke-dashoffset:0}}.style-module--cupcakeDrawself--pHn5_,.style-module--cupcakeDrawselfFade--3jS_7{max-width:250px;max-height:250px;width:100%;height:100%;margin:auto;display:block}.common-module--halfWidthContainer--1O3jv{display:grid;grid-template-columns:1fr 1fr}.common-module--halfWidthLeft--YeN8C{grid-column:1/span 1;padding-right:1em}.common-module--halfWidthRight--IjbdE{grid-column:2/span 1;padding-left:1em}@media (max-width:46rem){.common-module--halfWidthLeft--YeN8C,.common-module--halfWidthRight--IjbdE{grid-column:1/span 2;justify-self:center;padding-right:0;padding-left:0}}.style-module--displayBlock--iPhpg{display:block}.style-module--displayHidden--21VAm{display:none}.style-module--container--3pYZP{overflow-x:scroll}.style-module--controls--1ld-o{margin:.5rem 0}.style-module--displayHidden--2K05X{display:none}.style-module--saturation--1RogJ{padding:1rem 0}.style-module--colourWheel--2-rSW{margin:auto;display:block}.style-module--staticCircles--2D1Sl{max-width:300px}.style-module--control--1NRP7{margin:.25rem}.style-module--container--1QUVW{overflow-x:scroll}.style-module--controls--1y8XI{padding-top:.5rem}.style-module--control--vLe4q{margin:.25rem}body,html{height:100%;font-family:Alegreya Sans SC,sans-serif;font-weight:300;font-size:1.1rem}body,html,p{margin:0;padding:0}p{line-height:1.5}.blueLink,.footnote-backref,.footnote-ref{color:var(--skyblue);text-decoration:none;background-image:-webkit-gradient(linear,left bottom,left top,from(var(--skyblue)),color-stop(50%,var(--skyblue)),color-stop(50%,transparent),to(transparent));background-image:linear-gradient(0deg,var(--skyblue),var(--skyblue) 50%,transparent 0,transparent);background-position:0 0;background-size:100% 200%;-webkit-transition-duration:.5s;transition-duration:.5s}.blueLink:hover,.footnote-backref:hover,.footnote-ref:hover{color:var(--white);background-position:0 100%}:root{--skyblue:#00c1c1;--darkblue:#09616c;--darkgrey:#696969;--grey:#e0e0e0;--lightgrey:#ebebe0;--white:#fff;--darkgreen:#09616c}.style-module--logo--2SyxD{width:4rem;height:4rem;padding:.25rem;display:block}.style-module--header--SW0YW,.style-module--headerClosed--R_-JQ{background-color:var(--lightgrey);position:fixed;top:0;width:100%;-webkit-transition:top .3s;transition:top .3s}.style-module--headerClosed--R_-JQ{top:-5rem}.style-module--navBar--15oEh{display:flex;align-items:center}.style-module--navBarMenu--2bl_U{margin-left:auto;text-align:center;display:none}.style-module--navBarItem--WLqjh{font-size:1.2rem;padding:1.563rem 1rem;color:var(--skyblue);text-decoration:none;cursor:pointer;-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--navBarItem--WLqjh:hover{background:var(--grey)}.style-module--navButton--1tUmD{display:flex;background:none;border:none;width:4.5rem;height:4.5rem;padding:0;cursor:pointer;margin-left:auto;color:var(--darkgrey);-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--navButton--1tUmD:hover{background:var(--grey)}.style-module--navButtonIcon--3NMNz{margin:auto}@media (min-width:1023px){.style-module--navBarMenu--2bl_U{display:flex}.style-module--navButton--1tUmD{display:none}}.style-module--footer--289ra{background-color:var(--lightgrey);padding:1rem 0;font-size:1.2rem;color:var(--darkgrey);text-align:center}.style-module--socialIcons--1q-EP{display:flex;justify-content:center}.style-module--socialIconLink--3nB_V{width:4.5rem;height:4.5rem}.style-module--socialIcon--2dsOi{color:var(--darkgrey);height:100%;-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--socialIcon--2dsOi:hover{color:var(--skyblue)}.style-module--logo--36eDR{width:4rem;height:4rem;padding:.25rem;display:block}.style-module--sidebar--1_Ajg,.style-module--sidebarOpen--8w5ak{height:100%;background-color:var(--darkgrey);box-shadow:1px 0 7px rgba(0,0,0,.5);width:50%;max-width:15rem;position:fixed;top:0;left:0;overflow-x:hidden;z-index:200;display:flex;flex-direction:column;-webkit-transform:translateX(-110%);transform:translateX(-110%);-webkit-transition:-webkit-transform .3s ease-out;transition:-webkit-transform .3s ease-out;transition:transform .3s ease-out;transition:transform .3s ease-out,-webkit-transform .3s ease-out}.style-module--sidebarOpen--8w5ak{-webkit-transform:translateX(0);transform:translateX(0)}.style-module--sidebarItem--CIFyC{font-size:1.5rem;color:var(--skyblue);padding:.5rem;text-decoration:none;cursor:pointer;-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--sidebarItem--CIFyC:hover{background-color:var(--grey)}@media(min-width:1023px){.style-module--sidebarOpen--8w5ak{-webkit-transform:translateX(-110%);transform:translateX(-110%)}}.style-module--backdrop--3vELK{position:fixed;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3);z-index:100}@media(min-width:1023px){.style-module--backdrop--3vELK{display:none}}.style-module--fixedFooterWrapper--2Ir75{display:grid;margin-top:4.5rem;height:100vh;grid-template-rows:1fr auto}.style-module--postHeader--2ErCw{color:var(--skyblue);padding-bottom:1rem}.style-module--postTitle--17UcY{margin:0;font-weight:900}.style-module--postDate--3wGWt{font-size:1.4rem}.style-module--postContainer--2odKR{display:grid;grid-template-columns:1fr minmax(18rem,46rem) 1fr}.style-module--post--3mvXb{color:var(--darkgrey);padding:15px;grid-column:2/span 1}.style-module--footnote-backref--1ZlkF,.style-module--footnote-ref--3RG69{color:var(--skyblue);text-decoration:none;background-image:-webkit-gradient(linear,left bottom,left top,from(var(--skyblue)),color-stop(50%,var(--skyblue)),color-stop(50%,transparent),to(transparent));background-image:linear-gradient(0deg,var(--skyblue),var(--skyblue) 50%,transparent 0,transparent);background-position:0 0;background-size:100% 200%;-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--footnote-backref--1ZlkF:hover,.style-module--footnote-ref--3RG69:hover{color:var(--white);background-position:0 100%}.style-module--post--3mvXb h2{color:var(--darkgreen);font-weight:900;margin:0}.style-module--post--3mvXb p{margin:1rem 0}.style-module--post--3mvXb button{color:var(--white);background-color:var(--skyblue);font-size:1.2rem;text-decoration:none;border-radius:3px;border:1px solid var(--darkgrey);display:inline-block;cursor:pointer;padding:.5rem 1rem}.style-module--post--3mvXb button:hover{-webkit-transition-duration:.5s;transition-duration:.5s;background-color:var(--darkblue)}.style-module--post--3mvXb button:active{position:relative;top:1px}.style-module--logoBrackets--1WZBy{max-width:500px;max-height:320px;width:100%;height:100%;display:flex;display:block;margin:1rem auto}.style-module--introText--1XiXJ{color:var(--darkgrey);text-align:center}.style-module--paginator--2j0wi{display:flex;justify-content:center;padding:.5rem;font-size:1.2rem}.style-module--paginatorList--yTa4i{list-style:none;margin:0;padding:0;display:flex}.style-module--paginatorLink--2SoYG,.style-module--paginatorLinkActive--1qV2c{text-decoration:none;color:var(--skyblue);display:block;padding:.5rem .75rem}.style-module--paginatorLinkActive--1qV2c{background-color:var(--grey);border-radius:.5rem}.style-module--postListItem--2u-tp{padding:0 .5rem;margin:.5rem 0}.style-module--postListItem--2u-tp:hover{background:var(--lightgrey);-webkit-transition-duration:.5s;transition-duration:.5s}.style-module--postLink--VKmXi{display:block;text-decoration:none;max-width:700px;margin:0 auto;color:var(--skyblue)}.style-module--postTitle--gRT3u{margin:0;font-weight:900}.style-module--postMeta--1VUrD{font-style:italic}.style-module--postSubtitle--zGGxE{color:var(--darkgrey)}.style-module--postImage--155ya{padding:.5rem;display:block;height:16rem;margin:0 auto}.style-module--logoBracketsNotFound--395TM{max-width:650px;max-height:500px;width:100%;height:100%;display:block;margin:1em auto}.style-module--container--3FVkj{color:var(--darkgrey);display:block;margin:1em auto;text-align:center}.style-module--about--2Q3vK{color:var(--darkgrey);display:flex;justify-content:center;align-items:center;flex-wrap:wrap;padding:1em}.style-module--profile--2FNl5{margin:1em;height:auto;width:100%;max-width:20em;border-radius:50%;padding:.25em;border:2px solid var(--lightgrey)}.style-module--aboutText--3eSjh{padding:1em;max-width:24em}.style-module--photosTitle--1i4eW{color:var(--darkgreen);font-weight:900;margin:0;text-align:center}.style-module--gallery--1W-CY{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-gap:1em;padding:1em;text-align:center}.style-module--galleryImage--1f_9c{width:300px;height:200px}</style><meta name="generator" content="Gatsby 2.17.7"/><link rel="icon" href="/website-gatsby/icons/icon-48x48.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="manifest" href="/website-gatsby/manifest.webmanifest"/><meta name="theme-color" content="#ebebe0"/><link rel="apple-touch-icon" sizes="48x48" href="/website-gatsby/icons/icon-48x48.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="72x72" href="/website-gatsby/icons/icon-72x72.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="96x96" href="/website-gatsby/icons/icon-96x96.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="144x144" href="/website-gatsby/icons/icon-144x144.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="192x192" href="/website-gatsby/icons/icon-192x192.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="256x256" href="/website-gatsby/icons/icon-256x256.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="384x384" href="/website-gatsby/icons/icon-384x384.png?v=6abe064f28b01bcab920a40115ff3ff7"/><link rel="apple-touch-icon" sizes="512x512" href="/website-gatsby/icons/icon-512x512.png?v=6abe064f28b01bcab920a40115ff3ff7"/><title data-react-helmet="true"></title><link as="script" rel="preload" href="/website-gatsby/styles-13faa0858667f5b1907d.js"/><link as="script" rel="preload" href="/website-gatsby/component---src-pages-posts-2019-04-06-the-game-of-life-index-mdx-f50b76b4fd866d11519f.js"/><link as="script" rel="preload" href="/website-gatsby/commons-72714eaa17a825ef31ae.js"/><link as="script" rel="preload" href="/website-gatsby/app-a95fc75861d113254492.js"/><link as="script" rel="preload" href="/website-gatsby/webpack-runtime-ccd6c5f463f3543cb2ad.js"/><link as="fetch" rel="preload" href="/website-gatsby/page-data\posts\2019-04-06-the-game-of-life\page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><p>The <a class="blueLink" href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Game of Life</a> is a <a class="blueLink" href="https://en.wikipedia.org/wiki/Cellular_automaton">cellular automataton</a> designed by the British mathematician <a class="blueLink" href="https://en.wikipedia.org/wiki/John_Horton_Conway">John Conway</a>. A cellular automataton is a mathematical model that consists of a grid of cells, with each cell having an finite number of states (e.g &quot;on&quot; or &quot;off&quot;). A new grid configuration (a new <em>generation</em>) is created according to a fixed set of rules that determine the state of each cell based on its current state and the state of the cells around it (its <em>neighbourhood</em>). Cellular automata can be used to simulate a variety of real-world systems, from the <a class="blueLink" href="https://en.wikipedia.org/wiki/Belousov%E2%80%93Zhabotinsky_reaction">Belousovâ€“Zhabotinsky reaction</a> to <a class="blueLink" href="https://blogs.msdn.microsoft.com/calvin_hsia/2014/09/30/fish-vs-sharks-predator-prey-simulation/">predator prey relationships</a>.</p><p>In Conway&#x27;s Game of Life, the grid is a 2D array of square cells each with two states <em>alive</em> and <em>dead</em>. Each cell interacts with its 8 neighbours, which are the cells that are horizontally, vertically, or diagonally adjacent to it. The rules are:</p><ul><li>Any live cell with fewer than two live neighbours dies, as if by underpopulation.</li><li>Any live cell with two or three live neighbours lives on to the next generation.</li><li>Any live cell with more than three live neighbours dies, as if by overpopulation.</li><li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.</li></ul><p>We can get the number of alive neighbours of a cell in 2D array with the code below. Note we are applying <a href="https://en.wikipedia.org/wiki/Periodic_boundary_conditions" class="blueLink">periodic boundary conditions</a> in both the x and y directions.</p><pre><code class="language-javascript">var ALIVE = 1;
var DEAD = 0;
var N = 200;
var arr = create2Darray(N, N, DEAD); // Iitialises a new 2D array with array values set to 0.
var neighbourhood = [[1, 0],[1, 1],[0, 1],[-1, 1],[-1, 0],[-1, -1],[0, -1],[1, -1]];

// Get number of ALIVE neighbours for point (x,y)
function getneighcount(arr, x, y){
  var nc = 0;
  for (var nn = 0; nn &lt; neighbourhood.length; nn++){
    var dx = neighbourhood[nn][0];
    var dy = neighbourhood[nn][1];
    if (arr[pbcz(x + dx, arr.length)][pbcz(y + dy, arr[x].length)] === ALIVE){
      nc++;
    }
  }
  return nc;
}

// Periodic boundary conditions in z-direction:
function pbcz(iz, Lz){
  if (iz &gt;= Lz){
    iz = iz - Lz;
  }
  if (iz &lt; 0){
    iz = iz + Lz;
  }
  return iz;
}
</code></pre><p>Then we can just turn the Game of Life rules into some simple JavaScript code:</p><pre><code class="language-javascript">var ALIVE = 1;
var DEAD = 0;
var N = 200;
var arr = create2Darray(N, N, DEAD); // Iitialises a new 2D array with array values set to 0.
var requestId;
gameLoop();

// Runs forever, call cancelAnimationFrame(requestId) to stop.
function gameLoop() {
  arr = iterate(arr);
  print_to_canvas(arr);
  requestId = requestAnimationFrame(gameLoop);
}

// Iterate the next state of the array.
function iterate(oldArray){
  var newArray = clone2Darray(oldArray);
  for(var x = 0; x &lt; oldArray.length; x++){
    for(var y = 0; y &lt; oldArray[0].length; y++){
      var aliveNeighbourCount = getneighcount(oldArray, x, y);
      if(oldArray[x][y] === ALIVE){
        if (aliveNeighbourCount &lt; 2){
          newArray[x][y] = DEAD; // Underpopulation kills cell.
        }
        else if (aliveNeighbourCount === 2 || aliveNeighbourCount === 3){
          newArray[x][y] = ALIVE; // Surivies!
        }
        else if (aliveNeighbourCount &gt; 3){
          newArray[x][y] = DEAD; // Overpopulation kills cell.
        }
      }
      else if(oldArray[x][y] === DEAD &amp;&amp; aliveNeighbourCount === 3){
        newArray[x][y] = ALIVE; // Reproduction.
      }
    }
  }
  return newArray;
}
</code></pre><p>I&#x27;ve packaged the Game of Life code up into interactive tool below.</p><div class="style-module--container--1QUVW"><canvas></canvas><div class="style-module--controls--1y8XI"><input type="color" class="style-module--control--vLe4q" value="#00ff00"/><input type="color" class="style-module--control--vLe4q" value="#000000"/><button class="style-module--control--vLe4q"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="play" class="svg-inline--fa fa-play fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"></path></svg></button><button class="style-module--control--vLe4q">Cross</button><button class="style-module--control--vLe4q">Acorn</button></div></div><p>The full code for this tool is available on my <a href="https://github.com/george-pearson" class="blueLink">GitHub</a>.</p></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/posts/2019-04-06-the-game-of-life/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-a95fc75861d113254492.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-a7388efdc62430243a75.js"],"component---src-templates-post-template-post-template-js":["/component---src-templates-post-template-post-template-js-4a3e65c113130ecffaf3.js"],"component---src-templates-post-list-template-post-list-template-js":["/component---src-templates-post-list-template-post-list-template-js-1a0d795bfde883def1ae.js"],"component---src-pages-404-index-js":["/component---src-pages-404-index-js-08f08507b1686248bd97.js"],"component---src-pages-about-index-js":["/component---src-pages-about-index-js-1b62d99256f995c98728.js"],"component---src-pages-photos-index-js":["/component---src-pages-photos-index-js-1abafbe734db79168b96.js"],"component---src-pages-posts-2019-02-09-hello-world-index-mdx":["/component---src-pages-posts-2019-02-09-hello-world-index-mdx-edd57fb41dd28bc74f80.js"],"component---src-pages-posts-2019-02-20-diamond-square-algorithm-cloud-images-index-mdx":["/component---src-pages-posts-2019-02-20-diamond-square-algorithm-cloud-images-index-mdx-1894a4747f682653af02.js"],"component---src-pages-posts-2019-04-06-the-game-of-life-index-mdx":["/component---src-pages-posts-2019-04-06-the-game-of-life-index-mdx-f50b76b4fd866d11519f.js"],"component---src-pages-posts-2019-05-19-sobel-index-mdx":["/component---src-pages-posts-2019-05-19-sobel-index-mdx-67eb72363e907ed4290d.js"],"component---src-pages-posts-2019-06-17-circles-everywhere-index-mdx":["/component---src-pages-posts-2019-06-17-circles-everywhere-index-mdx-8986dfae27ad6a339b2e.js"],"component---src-pages-posts-2019-08-11-moire-patterns-index-mdx":["/component---src-pages-posts-2019-08-11-moire-patterns-index-mdx-de686a09221304e9fb8a.js"],"component---src-pages-posts-2019-07-23-putting-svgs-on-the-map-index-mdx":["/component---src-pages-posts-2019-07-23-putting-svgs-on-the-map-index-mdx-4ca1bd1e3bb76348d8b3.js"],"component---src-pages-posts-2019-03-06-svg-path-animations-index-mdx":["/component---src-pages-posts-2019-03-06-svg-path-animations-index-mdx-f9a76302ccfb779ec3ad.js"]};/*]]>*/</script><script src="/website-gatsby/webpack-runtime-ccd6c5f463f3543cb2ad.js" async=""></script><script src="/website-gatsby/app-a95fc75861d113254492.js" async=""></script><script src="/website-gatsby/commons-72714eaa17a825ef31ae.js" async=""></script><script src="/website-gatsby/component---src-pages-posts-2019-04-06-the-game-of-life-index-mdx-f50b76b4fd866d11519f.js" async=""></script><script src="/website-gatsby/styles-13faa0858667f5b1907d.js" async=""></script></body></html>